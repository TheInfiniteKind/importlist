<!DOCTYPE html>
<html>
<head>
  <title>JMockit Coverage Report - Tracker.java</title>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  <link rel='stylesheet' type='text/css' href='../../../../../../coverage.css'/>
  <link rel='shortcut icon' type='image/png' href='../../../../../../logo.png'/>
  <script type='text/javascript' src='../../../../../../coverage.js'></script>
  <script type='text/javascript' src='../../../../../../prettify.js'></script>
</head>
<body onload='prettyPrint()'>
  <table cellpadding='0' cellspacing='1'>
    <caption>develop/src/main/java/com/moneydance/modules/features/importlist/util/Tracker.java</caption>
    <tr>
      <td class='line'>1</td><td>&nbsp;</td>
      <td><pre class='comment'>// Import List - http://my-flow.github.io/importlist/</pre></td>
    </tr>
    <tr>
      <td class='line'>2</td><td>&nbsp;</td>
      <td><pre class='comment'>// Copyright (C) 2011-2014 Florian J. Breunig</pre></td>
    </tr>
    <tr>
      <td class='line'>3</td><td>&nbsp;</td>
      <td><pre class='comment'>//</pre></td>
    </tr>
    <tr>
      <td class='line'>4</td><td>&nbsp;</td>
      <td><pre class='comment'>// This program is free software: you can redistribute it and/or modify</pre></td>
    </tr>
    <tr>
      <td class='line'>5</td><td>&nbsp;</td>
      <td><pre class='comment'>// it under the terms of the GNU General Public License as published by</pre></td>
    </tr>
    <tr>
      <td class='line'>6</td><td>&nbsp;</td>
      <td><pre class='comment'>// the Free Software Foundation, either version 3 of the License, or</pre></td>
    </tr>
    <tr>
      <td class='line'>7</td><td>&nbsp;</td>
      <td><pre class='comment'>// (at your option) any later version.</pre></td>
    </tr>
    <tr>
      <td class='line'>8</td><td>&nbsp;</td>
      <td><pre class='comment'>//</pre></td>
    </tr>
    <tr>
      <td class='line'>9</td><td>&nbsp;</td>
      <td><pre class='comment'>// This program is distributed in the hope that it will be useful,</pre></td>
    </tr>
    <tr>
      <td class='line'>10</td><td>&nbsp;</td>
      <td><pre class='comment'>// but WITHOUT ANY WARRANTY; without even the implied warranty of</pre></td>
    </tr>
    <tr>
      <td class='line'>11</td><td>&nbsp;</td>
      <td><pre class='comment'>// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</pre></td>
    </tr>
    <tr>
      <td class='line'>12</td><td>&nbsp;</td>
      <td><pre class='comment'>// GNU General Public License for more details.</pre></td>
    </tr>
    <tr>
      <td class='line'>13</td><td>&nbsp;</td>
      <td><pre class='comment'>//</pre></td>
    </tr>
    <tr>
      <td class='line'>14</td><td>&nbsp;</td>
      <td><pre class='comment'>// You should have received a copy of the GNU General Public License</pre></td>
    </tr>
    <tr>
      <td class='line'>15</td><td>&nbsp;</td>
      <td><pre class='comment'>// along with this program. If not, see &lt;http://www.gnu.org/licenses/>.</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>17</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>package com.moneydance.modules.features.importlist.util;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td><pre class='imports prettyprint' onclick='showHideLines(this)'><div>import com.dmurph.tracking.AnalyticsConfigData;
import com.dmurph.tracking.JGoogleAnalyticsTracker;
import com.dmurph.tracking.JGoogleAnalyticsTracker.GoogleAnalyticsVersion;

import java.net.Authenticator;
import java.net.InetSocketAddress;
import java.net.PasswordAuthentication;
import java.net.Proxy;
import java.net.SocketAddress;
</div><span>import ...</span></pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>/**
 * A facade for dispatching Google Analytics tracking information.
 *
 * @author Florian J. Breunig
 */</div><span>/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>34</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>public final class Tracker {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>36</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    private final String fullVersion;</pre></td>
    </tr>
    <tr>
      <td class='line'>37</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    private final String build;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>39</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    private final JGoogleAnalyticsTracker analyticsTracker;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>41</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    Tracker(final int argBuild,</pre></td>
    </tr>
    <tr>
      <td class='line'>42</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            final String argExtensionName,</pre></td>
    </tr>
    <tr>
      <td class='line'>43</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            final String argFullVersion,</pre></td>
    </tr>
    <tr>
      <td class='line'>44</td><td class='count'>2</td>
      <td><pre class='prettyprint covered' id='l44s0'>            final String argTrackingCode) {</pre></td>
    </tr>
    <tr>
      <td class='line'>45</td><td class='count'>2</td>
      <td><pre class='prettyprint covered' id='l45s0'>        this.fullVersion = String.format("Moneydance %s", argFullVersion);</pre></td>
    </tr>
    <tr>
      <td class='line'>46</td><td class='count'>2</td>
      <td><pre class='prettyprint covered' id='l46s0'>        this.build       = String.format("%s v%d", argExtensionName, argBuild);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>48</td><td class='count'>2</td>
      <td><pre class='prettyprint jmp'>        <span id='l48s0' title='Executions: 2' class='covered'>if (!Proxy.NO_PROXY.equals(Tracker.getProxy())) {</span></pre></td>
    </tr>
    <tr>
      <td class='line'>49</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l49s0'>            JGoogleAnalyticsTracker.setProxy(Tracker.getProxy());</pre></td>
    </tr>
    <tr>
      <td class='line'>50</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>51</td><td class='count'>2</td>
      <td><pre class='prettyprint covered' id='l51s0'>        AnalyticsConfigData config = new AnalyticsConfigData(argTrackingCode);</pre></td>
    </tr>
    <tr>
      <td class='line'>52</td><td class='count'>2</td>
      <td><pre class='prettyprint covered' id='l52s0'>        this.analyticsTracker = new JGoogleAnalyticsTracker(</pre></td>
    </tr>
    <tr>
      <td class='line'>53</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                config,</pre></td>
    </tr>
    <tr>
      <td class='line'>54</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                GoogleAnalyticsVersion.V_4_7_2);</pre></td>
    </tr>
    <tr>
      <td class='line'>55</td><td class='count'>2</td>
      <td><pre class='prettyprint covered' id='l55s0'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>57</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public void track(final EventName eventName) {</pre></td>
    </tr>
    <tr>
      <td class='line'>58</td><td class='count'>7</td>
      <td><pre class='prettyprint covered' id='l58s0'>        this.analyticsTracker.trackEvent(</pre></td>
    </tr>
    <tr>
      <td class='line'>59</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                this.fullVersion,</pre></td>
    </tr>
    <tr>
      <td class='line'>60</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                eventName.toString(),</pre></td>
    </tr>
    <tr>
      <td class='line'>61</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                this.build);</pre></td>
    </tr>
    <tr>
      <td class='line'>62</td><td class='count'>7</td>
      <td><pre class='prettyprint covered' id='l62s0'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>64</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    private static Proxy getProxy() {</pre></td>
    </tr>
    <tr>
      <td class='line'>65</td><td class='count'>2</td>
      <td><pre class='prettyprint covered' id='l65s0'>        final Preferences prefs = Helper.INSTANCE.getPreferences();</pre></td>
    </tr>
    <tr>
      <td class='line'>66</td><td class='count'>2</td>
      <td><pre class='prettyprint jmp'>        <span id='l66s0' title='Executions: 2' class='covered'>if (!prefs.hasProxy()) {</span></pre></td>
    </tr>
    <tr>
      <td class='line'>67</td><td class='count'>2</td>
      <td><pre class='prettyprint covered' id='l67s0'>            return Proxy.NO_PROXY;</pre></td>
    </tr>
    <tr>
      <td class='line'>68</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>70</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l70s0'>        final SocketAddress socketAddress = new InetSocketAddress(</pre></td>
    </tr>
    <tr>
      <td class='line'>71</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                prefs.getProxyHost(),</pre></td>
    </tr>
    <tr>
      <td class='line'>72</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                prefs.getProxyPort());</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>74</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l74s0'>        boolean authProxy = prefs.hasProxyAuthentication();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>76</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l76s0'>        Proxy.Type proxyType = Proxy.Type.HTTP;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>78</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>        <span id='l78s0' title='Executions: 0' class='uncovered'>if (authProxy)</span> <span id='l78s1' title='Executions: 0' class='uncovered'>{</span></pre></td>
    </tr>
    <tr>
      <td class='line'>79</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l79s0'>            proxyType = Proxy.Type.SOCKS;</pre></td>
    </tr>
    <tr>
      <td class='line'>80</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l80s0'>            Authenticator.setDefault(new Authenticator() {</pre></td>
    </tr>
    <tr>
      <td class='line'>81</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                @Override</pre></td>
    </tr>
    <tr>
      <td class='line'>82</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                protected PasswordAuthentication getPasswordAuthentication() {</pre></td>
    </tr>
    <tr>
      <td class='line'>83</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l83s0'>                    return new PasswordAuthentication(</pre></td>
    </tr>
    <tr>
      <td class='line'>84</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                            prefs.getProxyUsername(),</pre></td>
    </tr>
    <tr>
      <td class='line'>85</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                            prefs.getProxyPassword().toCharArray());</pre></td>
    </tr>
    <tr>
      <td class='line'>86</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>87</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            });</pre></td>
    </tr>
    <tr>
      <td class='line'>88</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>89</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l89s0'>        return new Proxy(proxyType, socketAddress);</pre></td>
    </tr>
    <tr>
      <td class='line'>90</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>    /**
     * @author Florian J. Breunig
     */</div><span>    /*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>95</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l95s0'>    public enum EventName {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>97</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        INSTALL(Helper.INSTANCE.getSettings().getEventActionInstall()),</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>99</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        DISPLAY(Helper.INSTANCE.getSettings().getEventActionDisplay()),</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>101</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        UNINSTALL(Helper.INSTANCE.getSettings().getEventActionUninstall());</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>103</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        private final String eventString;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>105</td><td class='count'>3</td>
      <td><pre class='prettyprint covered' id='l105s0'>        private EventName(final String argEventString) {</pre></td>
    </tr>
    <tr>
      <td class='line'>106</td><td class='count'>3</td>
      <td><pre class='prettyprint covered' id='l106s0'>            this.eventString = argEventString;</pre></td>
    </tr>
    <tr>
      <td class='line'>107</td><td class='count'>3</td>
      <td><pre class='prettyprint covered' id='l107s0'>        }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>109</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        @Override</pre></td>
    </tr>
    <tr>
      <td class='line'>110</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        public String toString() {</pre></td>
    </tr>
    <tr>
      <td class='line'>111</td><td class='count'>7</td>
      <td><pre class='prettyprint covered' id='l111s0'>            return this.eventString;</pre></td>
    </tr>
    <tr>
      <td class='line'>112</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>113</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr>
      <td class='line'>114</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>}</pre></td>
    </tr>
  </table>
</body>
</html>
